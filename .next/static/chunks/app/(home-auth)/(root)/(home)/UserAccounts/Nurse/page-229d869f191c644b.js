(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2877],{8393:(e,t,s)=>{Promise.resolve().then(s.bind(s,4747))},4747:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(5155),a=s(2676),n=s(9519),l=s(9005),i=s(241),o=s(8636),d=s(6046),u=s(2115);let c=()=>{let e=(0,o.k)(e=>e.selectedUser),t=(0,d.useRouter)(),[s,c]=(0,u.useState)(null),{toast:p}=(0,i.dj)();return((0,u.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("user")||"null");e&&"nurse"===e.role&&"admin"===e.role?c(e):(t.push("/sign-in"),p({description:"You are not authorized to visit this page"}))},[t,p]),s)?(0,r.jsxs)("div",{className:"font-poppins",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("h1",{className:"text-center text-xl mb-5",children:"Welcome to Triage"}),(0,r.jsxs)("div",{className:"flex flex-row gap-1 items-center",children:[(0,r.jsx)("label",{className:"text-xl",children:"Bill:"}),(0,r.jsx)("h1",{className:"border p-1 px-3 rounded-md",children:"ksh: 350"})]})]}),(0,r.jsx)(n.A,{selectedUser:e}),(0,r.jsx)("hr",{className:"my-7"}),(0,r.jsx)(a.A,{}),(0,r.jsx)(l.A,{})]}):(0,r.jsx)("p",{children:"Loading..."})}},9005:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(5155),a=s(2115),n=s(2336),l=s(4085),i=s(4406),o=s(6046),d=s(7058),u=s(9462);let c=()=>{let{setVitals:e}=(0,i.y)(),[t,s]=(0,a.useState)(""),[c,p]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[x,f]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),y=(0,o.useRouter)(),S=(0,o.useSearchParams)(),[N,w]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=S.get("user");if(e)try{let t=JSON.parse(decodeURIComponent(e));w(t.id.toString()),console.log("Extracted Patient ID:",t.id)}catch(e){console.error("Error parsing user data:",e)}},[S]);let T=async()=>{if(!N){console.error("Patient ID not found!");return}let e={weight:parseFloat(c)||0,height:parseFloat(b)||0,temperature:parseFloat(t)||0,bloodPressure:h,heartRate:parseInt(x)||0,respiratoryRate:parseInt(g)||0,timestamp:new Date().toISOString()};try{await (0,d.BN)((0,d.H9)(u.db,"vitals",N),e),console.log("Vitals saved successfully!")}catch(e){console.error("Error saving vitals:",e)}},E=async()=>{e({weight:c,temp:t,bpm:h,heart:x,rate:g,height:b}),await T(),y.push("/consultation")};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl mb-7",children:"Vital Signs"}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"flex flex-row gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Weight (Kg)"}),(0,r.jsx)(n.p,{className:"mt-3",type:"number",value:c,onChange:e=>p(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Height (cm)"}),(0,r.jsx)(n.p,{className:"mt-3",type:"number",value:b,onChange:e=>j(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Temperature (\xb0C)"}),(0,r.jsx)(n.p,{className:"mt-3",type:"number",value:t,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Blood Pressure"}),(0,r.jsx)(n.p,{className:"mt-3",value:h,onChange:e=>m(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Heart Rate (BPM)"}),(0,r.jsx)(n.p,{className:"mt-3",type:"number",value:x,onChange:e=>f(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Respiratory Rate"}),(0,r.jsx)(n.p,{className:"mt-3",type:"number",value:g,onChange:e=>v(e.target.value)})]})]})}),(0,r.jsx)("div",{className:"my-5 w-full flex justify-end",children:(0,r.jsx)(l.$,{onClick:E,className:"bg-green-1",children:"Proceed to Consultation"})})]})}},4085:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(5155),a=s(2115),n=s(2317),l=s(1027),i=s(9602);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:d=!1,...u}=e,c=d?n.DX:"button";return(0,r.jsx)(c,{className:(0,i.cn)(o({variant:a,size:l,className:s})),ref:t,...u})});d.displayName="Button"},2336:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var r=s(5155),a=s(2115),n=s(9602);let l=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});l.displayName="Input"},241:(e,t,s)=>{"use strict";s.d(t,{dj:()=>p});var r=s(2115);let a=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function u(e){d=i(d,e),o.forEach(e=>{e(d)})}function c(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:s});return u({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function p(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,1181,4927,3307,6978,5880,2682,8441,1517,7358],()=>t(8393)),_N_E=e.O()}]);