(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3496],{1978:function(e,t,s){Promise.resolve().then(s.bind(s,2369))},2369:function(e,t,s){"use strict";s.r(t);var r=s(7437),a=s(4996),n=s(7236),i=s(1206),o=s(446),l=s(6790),d=s(4033),u=s(2265);t.default=()=>{let e=(0,l.L)(e=>e.selectedUser),t=(0,d.useRouter)(),[s,c]=(0,u.useState)(null),{toast:h}=(0,o.pm)();return((0,u.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("user")||"null");e&&"nurse"===e.role&&"admin"===e.role?c(e):(t.push("/sign-in"),h({description:"You are not authorized to visit this page"}))},[t,h]),s)?(0,r.jsxs)("div",{className:"font-poppins",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("h1",{className:"text-center text-xl mb-5",children:"Welcome to Triage"}),(0,r.jsxs)("div",{className:"flex flex-row gap-1 items-center",children:[(0,r.jsx)("label",{className:"text-xl",children:"Bill:"}),(0,r.jsx)("h1",{className:"border p-1 px-3 rounded-md",children:"ksh: 350"})]})]}),(0,r.jsx)(n.Z,{selectedUser:e}),(0,r.jsx)("hr",{className:"my-7"}),(0,r.jsx)(a.Z,{}),(0,r.jsx)(i.Z,{})]}):(0,r.jsx)("p",{children:"Loading..."})}},1206:function(e,t,s){"use strict";var r=s(7437),a=s(2265),n=s(5831),i=s(3611),o=s(5846),l=s(4033),d=s(4086),u=s(3261);t.Z=()=>{let{setVitals:e}=(0,o.B)(),[t,s]=(0,a.useState)(""),[c,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[f,x]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),y=(0,l.useRouter)(),S=(0,l.useSearchParams)(),[T,N]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=S.get("user");if(e)try{let t=JSON.parse(decodeURIComponent(e));N(t.id.toString()),console.log("Extracted Patient ID:",t.id)}catch(e){console.error("Error parsing user data:",e)}},[S]);let saveVitalsToFirestore=async()=>{if(!T){console.error("Patient ID not found!");return}let e={weight:parseFloat(c)||0,height:parseFloat(b)||0,temperature:parseFloat(t)||0,bloodPressure:m,heartRate:parseInt(f)||0,respiratoryRate:parseInt(g)||0,timestamp:new Date().toISOString()};try{await (0,d.pl)((0,d.JU)(u.db,"vitals",T),e),console.log("Vitals saved successfully!")}catch(e){console.error("Error saving vitals:",e)}},handleContinue=async()=>{e({weight:c,temp:t,bpm:m,heart:f,rate:g,height:b}),await saveVitalsToFirestore(),y.push("/consultation")};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl mb-7",children:"Vital Signs"}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"flex flex-row gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Weight (Kg)"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:c,onChange:e=>h(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Height (cm)"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:b,onChange:e=>j(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Temperature (\xb0C)"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:t,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Blood Pressure"}),(0,r.jsx)(n.I,{className:"mt-3",value:m,onChange:e=>p(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Heart Rate (BPM)"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:f,onChange:e=>x(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Respiratory Rate"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:g,onChange:e=>v(e.target.value)})]})]})}),(0,r.jsx)("div",{className:"my-5 w-full flex justify-end",children:(0,r.jsx)(i.z,{onClick:handleContinue,className:"bg-green-1",children:"Proceed to Consultation"})})]})}},3611:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),a=s(2265),n=s(7256),i=s(6061),o=s(1628);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:d=!1,...u}=e,c=d?n.g7:"button";return(0,r.jsx)(c,{className:(0,o.cn)(l({variant:a,size:i,className:s})),ref:t,...u})});d.displayName="Button"},5831:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(7437),a=s(2265),n=s(1628);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},446:function(e,t,s){"use strict";s.d(t,{pm:function(){return useToast}});var r=s(2265);let a=0;function genId(){return(a=(a+1)%Number.MAX_SAFE_INTEGER).toString()}let n=new Map,addToRemoveQueue=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},reducer=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?addToRemoveQueue(s):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],o={toasts:[]};function dispatch(e){o=reducer(o,e),i.forEach(e=>{e(o)})}function toast(e){let{...t}=e,s=genId(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:s});return dispatch({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:s,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function useToast(){let[e,t]=r.useState(o);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast,dismiss:e=>dispatch({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[4358,7895,5139,8094,9401,7830,3042,2971,2472,1744],function(){return e(e.s=1978)}),_N_E=e.O()}]);