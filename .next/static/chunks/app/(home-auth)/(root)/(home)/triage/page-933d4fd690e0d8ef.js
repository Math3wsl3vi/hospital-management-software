(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{3060:(e,s,t)=>{Promise.resolve().then(t.bind(t,4974))},4974:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(5155),a=t(2676),l=t(9519),n=t(9005),i=t(8636),o=t(2115);let d=()=>{let e=(0,i.k)(e=>e.selectedUser);return(0,r.jsxs)("div",{className:"font-poppins",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("h1",{className:"text-center text-xl mb-5",children:"Welcome to Triage"}),(0,r.jsxs)("div",{className:"flex flex-row gap-1 items-center",children:[(0,r.jsx)("label",{className:"text-xl",children:"Bill:"}),(0,r.jsx)("h1",{className:"border p-1 px-3 rounded-md",children:"ksh: 350"})]})]}),(0,r.jsx)(l.A,{selectedUser:e}),(0,r.jsx)("hr",{className:"my-7"}),(0,r.jsx)(a.A,{}),(0,r.jsx)(o.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(n.A,{})})]})}},9005:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var r=t(5155),a=t(2115),l=t(2336),n=t(4085),i=t(4406),o=t(6046),d=t(7058),c=t(9462);let u=()=>{let{setVitals:e}=(0,i.y)(),[s,t]=(0,a.useState)(""),[u,x]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),[v,f]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),y=(0,o.useRouter)(),N=(0,o.useSearchParams)(),[w,S]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=N.get("user");if(e)try{let s=JSON.parse(decodeURIComponent(e));S(s.id.toString()),console.log("Extracted Patient ID:",s.id)}catch(e){console.error("Error parsing user data:",e)}},[N]);let C=async()=>{if(!w){console.error("Patient ID not found!");return}let e={weight:parseFloat(u)||0,height:parseFloat(b)||0,temperature:parseFloat(s)||0,bloodPressure:h,heartRate:parseInt(p)||0,respiratoryRate:parseInt(v)||0,timestamp:new Date().toISOString()};try{await (0,d.BN)((0,d.H9)(c.db,"vitals",w),e),console.log("Vitals saved successfully!")}catch(e){console.error("Error saving vitals:",e)}},k=async()=>{e({weight:u,temp:s,bpm:h,heart:p,rate:v,height:b}),await C(),y.push("/consultation")};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl mb-7",children:"Vital Signs"}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"flex flex-row gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Weight (Kg)"}),(0,r.jsx)(l.p,{className:"mt-3",type:"number",value:u,onChange:e=>x(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Height (cm)"}),(0,r.jsx)(l.p,{className:"mt-3",type:"number",value:b,onChange:e=>j(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Temperature (\xb0C)"}),(0,r.jsx)(l.p,{className:"mt-3",type:"number",value:s,onChange:e=>t(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Blood Pressure"}),(0,r.jsx)(l.p,{className:"mt-3",value:h,onChange:e=>m(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Heart Rate (BPM)"}),(0,r.jsx)(l.p,{className:"mt-3",type:"number",value:p,onChange:e=>g(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Respiratory Rate"}),(0,r.jsx)(l.p,{className:"mt-3",type:"number",value:v,onChange:e=>f(e.target.value)})]})]})}),(0,r.jsx)("div",{className:"my-5 w-full flex justify-end",children:(0,r.jsx)(n.$,{onClick:k,className:"bg-green-1",children:"Proceed to Consultation"})})]})}},4085:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var r=t(5155),a=t(2115),l=t(2317),n=t(1027),i=t(9602);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:d=!1,...c}=e,u=d?l.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:a,size:n,className:t})),ref:s,...c})});d.displayName="Button"},2336:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var r=t(5155),a=t(2115),l=t(9602);let n=a.forwardRef((e,s)=>{let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});n.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,1181,4927,3307,6978,5880,2682,8441,1517,7358],()=>s(3060)),_N_E=e.O()}]);