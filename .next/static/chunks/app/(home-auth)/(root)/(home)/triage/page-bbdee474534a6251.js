(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4558],{1124:function(e,t,s){Promise.resolve().then(s.bind(s,1170))},1170:function(e,t,s){"use strict";s.r(t);var r=s(7437),a=s(4996),n=s(7236),l=s(1206),i=s(6790),o=s(2265);t.default=()=>{let e=(0,i.L)(e=>e.selectedUser);return(0,r.jsxs)("div",{className:"font-poppins",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("h1",{className:"text-center text-xl mb-5",children:"Welcome to Triage"}),(0,r.jsxs)("div",{className:"flex flex-row gap-1 items-center",children:[(0,r.jsx)("label",{className:"text-xl",children:"Bill:"}),(0,r.jsx)("h1",{className:"border p-1 px-3 rounded-md",children:"ksh: 350"})]})]}),(0,r.jsx)(n.Z,{selectedUser:e}),(0,r.jsx)("hr",{className:"my-7"}),(0,r.jsx)(a.Z,{}),(0,r.jsx)(o.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(l.Z,{})})]})}},1206:function(e,t,s){"use strict";var r=s(7437),a=s(2265),n=s(5831),l=s(3611),i=s(5846),o=s(4033),d=s(4086),c=s(3261);t.Z=()=>{let{setVitals:e}=(0,i.B)(),[t,s]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[v,p]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),y=(0,o.useRouter)(),N=(0,o.useSearchParams)(),[w,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=N.get("user");if(e)try{let t=JSON.parse(decodeURIComponent(e));C(t.id.toString()),console.log("Extracted Patient ID:",t.id)}catch(e){console.error("Error parsing user data:",e)}},[N]);let saveVitalsToFirestore=async()=>{if(!w){console.error("Patient ID not found!");return}let e={weight:parseFloat(u)||0,height:parseFloat(b)||0,temperature:parseFloat(t)||0,bloodPressure:x,heartRate:parseInt(f)||0,respiratoryRate:parseInt(v)||0,timestamp:new Date().toISOString()};try{await (0,d.pl)((0,d.JU)(c.db,"vitals",w),e),console.log("Vitals saved successfully!")}catch(e){console.error("Error saving vitals:",e)}},handleContinue=async()=>{e({weight:u,temp:t,bpm:x,heart:f,rate:v,height:b}),await saveVitalsToFirestore(),y.push("/consultation")};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl mb-7",children:"Vital Signs"}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"flex flex-row gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Weight (Kg)"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:u,onChange:e=>h(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Height (cm)"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:b,onChange:e=>j(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Temperature (\xb0C)"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:t,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Blood Pressure"}),(0,r.jsx)(n.I,{className:"mt-3",value:x,onChange:e=>m(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Heart Rate (BPM)"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:f,onChange:e=>g(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:"Respiratory Rate"}),(0,r.jsx)(n.I,{className:"mt-3",type:"number",value:v,onChange:e=>p(e.target.value)})]})]})}),(0,r.jsx)("div",{className:"my-5 w-full flex justify-end",children:(0,r.jsx)(l.z,{onClick:handleContinue,className:"bg-green-1",children:"Proceed to Consultation"})})]})}},3611:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),a=s(2265),n=s(7256),l=s(6061),i=s(1628);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:a,size:l,className:s})),ref:t,...c})});d.displayName="Button"},5831:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var r=s(7437),a=s(2265),n=s(1628);let l=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});l.displayName="Input"}},function(e){e.O(0,[4358,7895,5139,8094,9401,7830,3042,2971,2472,1744],function(){return e(e.s=1124)}),_N_E=e.O()}]);