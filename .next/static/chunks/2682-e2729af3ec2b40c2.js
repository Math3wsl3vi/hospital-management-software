"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2682],{2676:(e,s,a)=>{a.d(s,{A:()=>m});var r=a(5155),l=a(2115),t=a(7837),i=a(8636),n=a(5785),d=a(9462),o=a(7058);let c=async e=>{try{console.log("Fetching medications for email: ".concat(e));let s=e.replace(/[@.]/g,"_"),a=(0,o.rJ)(d.db,"patient-medication",s,"visits"),r=await (0,o.GG)(a);if(console.log("Found ".concat(r.docs.length," visits")),r.empty)return console.warn("No visits found."),{};let l={};for(let e of r.docs){let s=e.id;console.log("Processing visit ID: ".concat(s));let a=(0,o.rJ)(e.ref,"medications"),r=await (0,o.GG)(a);console.log("Found ".concat(r.docs.length," items for visit ").concat(s)),r.empty?console.warn("No medications found for visit ID ".concat(s)):l[s]=r.docs.map(e=>{var s;let a=e.data();console.log("Fetched item data:",a);let r=(null===(s=a.date)||void 0===s?void 0:s.toDate)?a.date.toDate().toLocaleDateString("en-GB"):"Unknown";return{id:e.id,name:a.name||"Unknown",dosage:a.dosage||"N/A",amount:a.amount||0,frequency:a.frequency||"N/A",duration:a.duration||"N/A",quantity:a.quantity||"N/A",date:r}})}return console.log("Final grouped medications:",l),l}catch(e){return console.error("Error fetching medications:",e),{}}},m=()=>{let e=(0,i.k)(e=>e.selectedUser),[s,a]=(0,l.useState)({}),[d,o]=(0,l.useState)(!1),m=async()=>{if(null==e?void 0:e.email){o(!0);try{let s=await c(e.email);a(s)}catch(e){console.error("Error fetching medications:",e)}o(!1)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"grid grid-cols-3 mb-5",children:[(0,r.jsxs)(t.lG,{children:[(0,r.jsxs)(t.zM,{className:"border p-2 text-center active:bg-green-1 active:text-white cursor-pointer hover:text-white hover:bg-green-1",children:["Patient's"," Records"]}),(0,r.jsx)(t.Cf,{children:(0,r.jsxs)(t.c7,{children:[(0,r.jsx)(t.L3,{className:"capitalize",children:"Medical Records"}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 mt-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.J,{children:["Patient's"," Name"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:null==e?void 0:e.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.J,{children:["Patient's"," National Id"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:null==e?void 0:e.id})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.J,{children:["Patient's"," Date Of Birth"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:null==e?void 0:e.dob})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.J,{children:["Patient's"," Gender"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:null==e?void 0:e.sex})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.J,{children:["Patient's"," Insurance Provider"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:(null==e?void 0:e.insuranceProvider)||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(n.J,{children:["Patient's"," Insurance Policy Number"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:(null==e?void 0:e.insurancePolicyNumber)||"N/A"})]})]})]})})]}),(0,r.jsxs)(t.lG,{children:[(0,r.jsx)(t.zM,{className:"border p-2 text-center active:bg-green-1 active:text-white cursor-pointer hover:text-white hover:bg-green-1",children:"Appointments"}),(0,r.jsx)(t.Cf,{children:(0,r.jsxs)(t.c7,{children:[(0,r.jsx)(t.L3,{children:"NOTICE!"}),(0,r.jsx)(t.rr,{children:"Appointments not available at the moment."})]})})]}),(0,r.jsxs)(t.lG,{children:[(0,r.jsx)(t.zM,{className:"border p-2 text-center active:bg-green-1 active:text-white cursor-pointer hover:text-white hover:bg-green-1",onClick:m,children:"Medication History"}),(0,r.jsx)(t.Cf,{children:(0,r.jsxs)(t.c7,{children:[(0,r.jsx)(t.L3,{children:"Medication History"}),d?(0,r.jsx)("p",{children:"Loading medications..."}):Object.keys(s).length>0?Object.entries(s).map(e=>{let[s,a]=e;return(0,r.jsx)("div",{className:"mt-4 border p-3 rounded-lg shadow-sm",children:(0,r.jsx)("ul",{className:"mt-2",children:a.map(e=>(0,r.jsxs)("li",{className:"p-2 border-b",children:[(0,r.jsx)("strong",{children:e.name})," - ",e.dosage,", ",e.frequency,", ",e.duration]},e.id))})},s)}):(0,r.jsx)("p",{children:"No medication history found."})]})})]})]})})}},9519:(e,s,a)=>{a.d(s,{A:()=>l});var r=a(5155);a(2115);let l=e=>{let{selectedUser:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,r.jsxs)("div",{className:"flex gap-10 w-full",children:[(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Full Names"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:(null==s?void 0:s.name)||"N/A"})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"National ID Number"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:(null==s?void 0:s.id)||"N/A"})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Blood Group"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:(null==s?void 0:s.bloodGroup)||"N/A"})]})]}),(0,r.jsxs)("div",{className:"flex gap-10 w-full",children:[(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Phone Number"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:(null==s?void 0:s.phone)||"N/A"})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Sex"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:(null==s?void 0:s.sex)||"N/A"})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Email"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:(null==s?void 0:s.email)||"N/A"})]})]})]})}},7837:(e,s,a)=>{a.d(s,{Cf:()=>u,HM:()=>m,L3:()=>f,c7:()=>x,lG:()=>d,rr:()=>g,zM:()=>o});var r=a(5155),l=a(2115),t=a(6217),i=a(689),n=a(9602);let d=t.bL,o=t.l9,c=t.ZL,m=t.bm,h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,r.jsx)(t.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});h.displayName=t.hJ.displayName;let u=l.forwardRef((e,s)=>{let{className:a,children:l,...d}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(h,{}),(0,r.jsxs)(t.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[l,(0,r.jsxs)(t.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=t.UC.displayName;let x=e=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};x.displayName="DialogHeader";let f=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,r.jsx)(t.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});f.displayName=t.hE.displayName;let g=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,r.jsx)(t.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...l})});g.displayName=t.VY.displayName},5785:(e,s,a)=>{a.d(s,{J:()=>o});var r=a(5155),l=a(2115),t=a(6195),i=a(1027),n=a(9602);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,r.jsx)(t.b,{ref:s,className:(0,n.cn)(d(),a),...l})});o.displayName=t.b.displayName},9462:(e,s,a)=>{a.d(s,{db:()=>n});var r=a(9904),l=a(7058);let t={apiKey:"AIzaSyDIZQy5i3zC0WavjxkAMHKmku0aCMrKoe4",authDomain:"hospital-management-53831.firebaseapp.com",projectId:"hospital-management-53831",storageBucket:"hospital-management-53831.firebasestorage.app",messagingSenderId:"705193792980",appId:"1:705193792980:web:019035ff9af8a7139ab241",measurementId:a(2818).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},i=(0,r.Wp)(t),n=(0,l.aU)(i)},9602:(e,s,a)=>{a.d(s,{cn:()=>t});var r=a(3463),l=a(9795);function t(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,l.QP)((0,r.$)(s))}},8636:(e,s,a)=>{a.d(s,{k:()=>t});var r=a(9827),l=a(709);let t=(0,r.v)()((0,l.Zr)(e=>({selectedUser:null,setSelectedUser:s=>e({selectedUser:s})}),{name:"user-storage"}))},4406:(e,s,a)=>{a.d(s,{y:()=>t});var r=a(9827),l=a(709);let t=(0,r.v)()((0,l.Zr)(e=>({vitals:{weight:"",temp:"",bpm:"",heart:"",rate:"",height:""},setVitals:s=>e({vitals:s})}),{name:"vitals-storage"}))}}]);