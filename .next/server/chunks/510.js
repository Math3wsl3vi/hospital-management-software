"use strict";exports.id=510,exports.ids=[510],exports.modules={42128:(e,s,a)=>{a.d(s,{A:()=>m});var r=a(45512),i=a(58009),t=a(71965),d=a(83568),l=a(47699),n=a(94078),o=a(17656);let c=async e=>{try{console.log(`Fetching medications for email: ${e}`);let s=e.replace(/[@.]/g,"_"),a=(0,o.rJ)(n.db,"patient-medication",s,"visits"),r=await (0,o.GG)(a);if(console.log(`Found ${r.docs.length} visits`),r.empty)return console.warn("No visits found."),{};let i={};for(let e of r.docs){let s=e.id;console.log(`Processing visit ID: ${s}`);let a=(0,o.rJ)(e.ref,"medications"),r=await (0,o.GG)(a);console.log(`Found ${r.docs.length} items for visit ${s}`),r.empty?console.warn(`No medications found for visit ID ${s}`):i[s]=r.docs.map(e=>{let s=e.data();console.log("Fetched item data:",s);let a=s.date?.toDate?s.date.toDate().toLocaleDateString("en-GB"):"Unknown";return{id:e.id,name:s.name||"Unknown",dosage:s.dosage||"N/A",amount:s.amount||0,frequency:s.frequency||"N/A",duration:s.duration||"N/A",quantity:s.quantity||"N/A",date:a}})}return console.log("Final grouped medications:",i),i}catch(e){return console.error("Error fetching medications:",e),{}}},m=()=>{let e=(0,d.k)(e=>e.selectedUser),[s,a]=(0,i.useState)({}),[n,o]=(0,i.useState)(!1),m=async()=>{if(e?.email){o(!0);try{let s=await c(e.email);a(s)}catch(e){console.error("Error fetching medications:",e)}o(!1)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"grid grid-cols-3 mb-5",children:[(0,r.jsxs)(t.lG,{children:[(0,r.jsxs)(t.zM,{className:"border p-2 text-center active:bg-green-1 active:text-white cursor-pointer hover:text-white hover:bg-green-1",children:["Patient's"," Records"]}),(0,r.jsx)(t.Cf,{children:(0,r.jsxs)(t.c7,{children:[(0,r.jsx)(t.L3,{className:"capitalize",children:"Medical Records"}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 mt-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{children:["Patient's"," Name"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:e?.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{children:["Patient's"," National Id"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:e?.id})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{children:["Patient's"," Date Of Birth"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:e?.dob})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{children:["Patient's"," Gender"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:e?.sex})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{children:["Patient's"," Insurance Provider"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:e?.insuranceProvider||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.J,{children:["Patient's"," Insurance Policy Number"]}),(0,r.jsx)("h1",{className:"p-1 border border-gray-300 rounded-md",children:e?.insurancePolicyNumber||"N/A"})]})]})]})})]}),(0,r.jsxs)(t.lG,{children:[(0,r.jsx)(t.zM,{className:"border p-2 text-center active:bg-green-1 active:text-white cursor-pointer hover:text-white hover:bg-green-1",children:"Appointments"}),(0,r.jsx)(t.Cf,{children:(0,r.jsxs)(t.c7,{children:[(0,r.jsx)(t.L3,{children:"NOTICE!"}),(0,r.jsx)(t.rr,{children:"Appointments not available at the moment."})]})})]}),(0,r.jsxs)(t.lG,{children:[(0,r.jsx)(t.zM,{className:"border p-2 text-center active:bg-green-1 active:text-white cursor-pointer hover:text-white hover:bg-green-1",onClick:m,children:"Medication History"}),(0,r.jsx)(t.Cf,{children:(0,r.jsxs)(t.c7,{children:[(0,r.jsx)(t.L3,{children:"Medication History"}),n?(0,r.jsx)("p",{children:"Loading medications..."}):Object.keys(s).length>0?Object.entries(s).map(([e,s])=>(0,r.jsx)("div",{className:"mt-4 border p-3 rounded-lg shadow-sm",children:(0,r.jsx)("ul",{className:"mt-2",children:s.map(e=>(0,r.jsxs)("li",{className:"p-2 border-b",children:[(0,r.jsx)("strong",{children:e.name})," - ",e.dosage,", ",e.frequency,", ",e.duration]},e.id))})},e)):(0,r.jsx)("p",{children:"No medication history found."})]})})]})]})})}},40856:(e,s,a)=>{a.d(s,{A:()=>i});var r=a(45512);a(58009);let i=({selectedUser:e})=>(0,r.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,r.jsxs)("div",{className:"flex gap-10 w-full",children:[(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Full Names"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.name||"N/A"})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"National ID Number"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.id||"N/A"})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Blood Group"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.bloodGroup||"N/A"})]})]}),(0,r.jsxs)("div",{className:"flex gap-10 w-full",children:[(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Phone Number"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.phone||"N/A"})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Sex"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.sex||"N/A"})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,r.jsx)("label",{htmlFor:"service",children:"Email"}),(0,r.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.email||"N/A"})]})]})]})},71965:(e,s,a)=>{a.d(s,{Cf:()=>x,HM:()=>m,L3:()=>p,c7:()=>f,lG:()=>n,rr:()=>g,zM:()=>o});var r=a(45512),i=a(58009),t=a(27553),d=a(51255),l=a(59462);let n=t.bL,o=t.l9,c=t.ZL,m=t.bm,h=i.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.hJ,{ref:a,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));h.displayName=t.hJ.displayName;let x=i.forwardRef(({className:e,children:s,...a},i)=>(0,r.jsxs)(c,{children:[(0,r.jsx)(h,{}),(0,r.jsxs)(t.UC,{ref:i,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,r.jsxs)(t.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=t.UC.displayName;let f=({className:e,...s})=>(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});f.displayName="DialogHeader";let p=i.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.hE,{ref:a,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));p.displayName=t.hE.displayName;let g=i.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.VY,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));g.displayName=t.VY.displayName},47699:(e,s,a)=>{a.d(s,{J:()=>o});var r=a(45512),i=a(58009),t=a(92405),d=a(21643),l=a(59462);let n=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef(({className:e,...s},a)=>(0,r.jsx)(t.b,{ref:a,className:(0,l.cn)(n(),e),...s}));o.displayName=t.b.displayName},94078:(e,s,a)=>{a.d(s,{db:()=>l});var r=a(46722),i=a(17656);let t={apiKey:"AIzaSyDIZQy5i3zC0WavjxkAMHKmku0aCMrKoe4",authDomain:"hospital-management-53831.firebaseapp.com",projectId:"hospital-management-53831",storageBucket:"hospital-management-53831.firebasestorage.app",messagingSenderId:"705193792980",appId:"1:705193792980:web:019035ff9af8a7139ab241",measurementId:process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},d=(0,r.Wp)(t),l=(0,i.aU)(d)},83568:(e,s,a)=>{a.d(s,{k:()=>t});var r=a(72803),i=a(19499);let t=(0,r.v)()((0,i.Zr)(e=>({selectedUser:null,setSelectedUser:s=>e({selectedUser:s})}),{name:"user-storage"}))},90882:(e,s,a)=>{a.d(s,{y:()=>t});var r=a(72803),i=a(19499);let t=(0,r.v)()((0,i.Zr)(e=>({vitals:{weight:"",temp:"",bpm:"",heart:"",rate:"",height:""},setVitals:s=>e({vitals:s})}),{name:"vitals-storage"}))}};