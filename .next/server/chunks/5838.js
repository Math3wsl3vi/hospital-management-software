"use strict";exports.id=5838,exports.ids=[5838],exports.modules={5838:(e,a,s)=>{s.d(a,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var t=s(30784),i=s(47805),n=s(9885),l=s(95555),r=s(57114),d=s(33770),c=s(465),o=s(92),m=s(29904),u=s(71462);let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,r.useRouter)(),{docNotes:a,setDocNotes:s}=(0,i.g)(),{toast:g}=(0,c.pm)(),p=(0,u.L)(e=>e.selectedUser),h=p?.id?.toString(),[x,v]=(0,n.useState)(a.medication?a.medication.split(",").map(e=>({name:e.trim(),dosage:"",frequency:"",duration:""})):[]),HandleInputChange=(e,a,s)=>{let t=[...x];t[e][a]=s,v(t)},savePharmacistData=async()=>{if(!h){g({description:"No patient selected.",variant:"destructive"});return}try{let t=x.map(({name:e,dosage:a,frequency:s,duration:t})=>`${e} - ${a} - ${s} - ${t}`).join(","),i={...a,medication:t};await (0,m.pl)((0,m.JU)(o.db,"doctor_notes",h),i,{merge:!0}),s(i),g({description:"Medication data saved successfully."}),e.push("/patient-invoice")}catch(e){console.error("Error saving pharmacist data:",e),g({description:"Failed to save patient data. Please try again.",variant:"destructive"})}};return(0,t.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,t.jsxs)("div",{className:"w-full",children:[t.jsx("label",{className:"text-xl",children:"Prescribed Medication"}),t.jsx("div",{className:"mt-3 border rounded-md min-h-44 p-2",children:x.map((e,a)=>(0,t.jsxs)("div",{className:"flex flex-row gap-5 border-b p-2 justify-between",children:[t.jsx("span",{className:"capitalize",children:e.name}),(0,t.jsxs)("div",{className:"ml-20 flex flex-row gap-10",children:[t.jsx(d.I,{placeholder:"Dosage (e.g. 500mg/10ml)",value:e.dosage,onChange:e=>HandleInputChange(a,"dosage",e.target.value)}),t.jsx(d.I,{placeholder:"Frequency (e.g. 3 times a day)",value:e.frequency,onChange:e=>HandleInputChange(a,"frequency",e.target.value)}),t.jsx(d.I,{placeholder:"Duration (e.g. 5 days)",value:e.duration,onChange:e=>HandleInputChange(a,"duration",e.target.value)})]})]},a))})]}),(0,t.jsxs)("div",{className:"w-full flex flex-row gap-10 pt-5",children:[t.jsx(l.z,{className:"w-1/2 bg-green-1",children:"Print Medication"}),t.jsx(l.z,{onClick:savePharmacistData,className:"w-1/2 bg-green-1",children:"Continue"})]})]})}},47805:(e,a,s)=>{s.d(a,{g:()=>n});var t=s(88944),i=s(48228);let n=(0,t.U)()((0,i.tJ)(e=>({docNotes:{symptoms:"",medication:"",diagnosis:""},setDocNotes:a=>e({docNotes:a})}),{name:"docNotes-storage"}))}};