"use strict";exports.id=413,exports.ids=[413],exports.modules={36664:(e,r,t)=>{t.d(r,{A:()=>f});var s=t(45512),a=t(1558),i=t(58009),l=t(87021),n=t(79334),o=t(25409),d=t(70801),c=t(94078),u=t(17656),m=t(83568);let f=()=>{let e=(0,n.useRouter)(),{docNotes:r,setDocNotes:t}=(0,a.K)(),{toast:f}=(0,d.dj)(),g=(0,m.k)(e=>e.selectedUser),v=g?.id?.toString(),[p,h]=(0,i.useState)(r.medication?r.medication.split(",").map(e=>({name:e.trim(),dosage:"",frequency:"",duration:""})):[]),x=(e,r,t)=>{let s=[...p];s[e][r]=t,h(s)},b=async()=>{if(!v){f({description:"No patient selected.",variant:"destructive"});return}try{let s=p.map(({name:e,dosage:r,frequency:t,duration:s})=>`${e} - ${r} - ${t} - ${s}`).join(","),a={...r,medication:s};await (0,u.BN)((0,u.H9)(c.db,"doctor_notes",v),a,{merge:!0}),t(a),f({description:"Medication data saved successfully."}),e.push("/patient-invoice")}catch(e){console.error("Error saving pharmacist data:",e),f({description:"Failed to save patient data. Please try again.",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("label",{className:"text-xl",children:"Prescribed Medication"}),(0,s.jsx)("div",{className:"mt-3 border rounded-md min-h-44 p-2",children:p.map((e,r)=>(0,s.jsxs)("div",{className:"flex flex-row gap-5 border-b p-2 justify-between",children:[(0,s.jsx)("span",{className:"capitalize",children:e.name}),(0,s.jsxs)("div",{className:"ml-20 flex flex-row gap-10",children:[(0,s.jsx)(o.p,{placeholder:"Dosage (e.g. 500mg/10ml)",value:e.dosage,onChange:e=>x(r,"dosage",e.target.value)}),(0,s.jsx)(o.p,{placeholder:"Frequency (e.g. 3 times a day)",value:e.frequency,onChange:e=>x(r,"frequency",e.target.value)}),(0,s.jsx)(o.p,{placeholder:"Duration (e.g. 5 days)",value:e.duration,onChange:e=>x(r,"duration",e.target.value)})]})]},r))})]}),(0,s.jsxs)("div",{className:"w-full flex flex-row gap-10 pt-5",children:[(0,s.jsx)(l.$,{className:"w-1/2 bg-green-1",children:"Print Medication"}),(0,s.jsx)(l.$,{onClick:b,className:"w-1/2 bg-green-1",children:"Continue"})]})]})}},40856:(e,r,t)=>{t.d(r,{A:()=>a});var s=t(45512);t(58009);let a=({selectedUser:e})=>(0,s.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,s.jsxs)("div",{className:"flex gap-10 w-full",children:[(0,s.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,s.jsx)("label",{htmlFor:"service",children:"Full Names"}),(0,s.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.name||"N/A"})]}),(0,s.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,s.jsx)("label",{htmlFor:"service",children:"National ID Number"}),(0,s.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.id||"N/A"})]}),(0,s.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,s.jsx)("label",{htmlFor:"service",children:"Blood Group"}),(0,s.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.bloodGroup||"N/A"})]})]}),(0,s.jsxs)("div",{className:"flex gap-10 w-full",children:[(0,s.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,s.jsx)("label",{htmlFor:"service",children:"Phone Number"}),(0,s.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.phone||"N/A"})]}),(0,s.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,s.jsx)("label",{htmlFor:"service",children:"Sex"}),(0,s.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.sex||"N/A"})]}),(0,s.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[(0,s.jsx)("label",{htmlFor:"service",children:"Email"}),(0,s.jsx)("div",{className:"focus-visible:ring-0 focus-visible:ring-offset-0 border p-2 rounded-md",children:e?.email||"N/A"})]})]})]})},87021:(e,r,t)=>{t.d(r,{$:()=>d});var s=t(45512),a=t(58009),i=t(12705),l=t(21643),n=t(59462);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:r,size:t,asChild:a=!1,...l},d)=>{let c=a?i.DX:"button";return(0,s.jsx)(c,{className:(0,n.cn)(o({variant:r,size:t,className:e})),ref:d,...l})});d.displayName="Button"},25409:(e,r,t)=>{t.d(r,{p:()=>l});var s=t(45512),a=t(58009),i=t(59462);let l=a.forwardRef(({className:e,type:r,...t},a)=>(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));l.displayName="Input"},94078:(e,r,t)=>{t.d(r,{db:()=>n});var s=t(46722),a=t(17656);let i={apiKey:"AIzaSyDIZQy5i3zC0WavjxkAMHKmku0aCMrKoe4",authDomain:"hospital-management-53831.firebaseapp.com",projectId:"hospital-management-53831",storageBucket:"hospital-management-53831.firebasestorage.app",messagingSenderId:"705193792980",appId:"1:705193792980:web:019035ff9af8a7139ab241",measurementId:process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},l=(0,s.Wp)(i),n=(0,a.aU)(l)},1558:(e,r,t)=>{t.d(r,{K:()=>i});var s=t(72803),a=t(19499);let i=(0,s.v)()((0,a.Zr)(e=>({docNotes:{symptoms:"",medication:"",diagnosis:""},setDocNotes:r=>e({docNotes:r})}),{name:"docNotes-storage"}))},83568:(e,r,t)=>{t.d(r,{k:()=>i});var s=t(72803),a=t(19499);let i=(0,s.v)()((0,a.Zr)(e=>({selectedUser:null,setSelectedUser:r=>e({selectedUser:r})}),{name:"user-storage"}))},19499:(e,r,t)=>{t.d(r,{Zr:()=>a});let s=e=>r=>{try{let t=e(r);if(t instanceof Promise)return t;return{then:e=>s(e)(t),catch(e){return this}}}catch(e){return{then(e){return this},catch:r=>s(r)(e)}}},a=(e,r)=>(t,a,i)=>{let l,n={storage:function(e,r){let t;try{t=e()}catch(e){return}return{getItem:e=>{var r;let s=e=>null===e?null:JSON.parse(e,void 0),a=null!=(r=t.getItem(e))?r:null;return a instanceof Promise?a.then(s):s(a)},setItem:(e,r)=>t.setItem(e,JSON.stringify(r,void 0)),removeItem:e=>t.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,r)=>({...r,...e}),...r},o=!1,d=new Set,c=new Set,u=n.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),t(...e)},a,i);let m=()=>{let e=n.partialize({...a()});return u.setItem(n.name,{state:e,version:n.version})},f=i.setState;i.setState=(e,r)=>{f(e,r),m()};let g=e((...e)=>{t(...e),m()},a,i);i.getInitialState=()=>g;let v=()=>{var e,r;if(!u)return;o=!1,d.forEach(e=>{var r;return e(null!=(r=a())?r:g)});let i=(null==(r=n.onRehydrateStorage)?void 0:r.call(n,null!=(e=a())?e:g))||void 0;return s(u.getItem.bind(u))(n.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];if(n.migrate){let r=n.migrate(e.state,e.version);return r instanceof Promise?r.then(e=>[!0,e]):[!0,r]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var r;let[s,i]=e;if(t(l=n.merge(i,null!=(r=a())?r:g),!0),s)return m()}).then(()=>{null==i||i(l,void 0),l=a(),o=!0,c.forEach(e=>e(l))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{n={...n,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},n.skipHydration||v(),l||g}},72803:(e,r,t)=>{t.d(r,{v:()=>o});var s=t(58009);let a=e=>{let r;let t=new Set,s=(e,s)=>{let a="function"==typeof e?e(r):e;if(!Object.is(a,r)){let e=r;r=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},r,a),t.forEach(t=>t(r,e))}},a=()=>r,i={setState:s,getState:a,getInitialState:()=>l,subscribe:e=>(t.add(e),()=>t.delete(e))},l=r=e(s,a,i);return i},i=e=>e?a(e):a,l=e=>e,n=e=>{let r=i(e),t=e=>(function(e,r=l){let t=s.useSyncExternalStore(e.subscribe,()=>r(e.getState()),()=>r(e.getInitialState()));return s.useDebugValue(t),t})(r,e);return Object.assign(t,r),t},o=e=>e?n(e):n}};