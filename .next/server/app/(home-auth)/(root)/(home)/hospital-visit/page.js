(()=>{var e={};e.id=9496,e.ids=[9496],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},54912:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(67096),a=s(16132),i=s(37284),n=s.n(i),o=s(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["(home-auth)",{children:["(root)",{children:["(home)",{children:["hospital-visit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,67369)),"/home/levi/Desktop/codingStuff/nextProjects/hospital-management-system/hms/app/(home-auth)/(root)/(home)/hospital-visit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,89846)),"/home/levi/Desktop/codingStuff/nextProjects/hospital-management-system/hms/app/(home-auth)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,8939)),"/home/levi/Desktop/codingStuff/nextProjects/hospital-management-system/hms/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/levi/Desktop/codingStuff/nextProjects/hospital-management-system/hms/app/(home-auth)/(root)/(home)/hospital-visit/page.tsx"],u="/(home-auth)/(root)/(home)/hospital-visit/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(home-auth)/(root)/(home)/hospital-visit/page",pathname:"/hospital-visit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},82113:(e,t,s)=>{Promise.resolve().then(s.bind(s,92665))},92665:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=s(30784),a=s(95555),i=s(57114),n=s(9885),o=s(40516),l=s(33770),d=s(71462),c=s(29904),u=s(465),m=s(92);let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,t]=(0,n.useState)(""),[s,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)([]),[f,g]=(0,n.useState)(null),{selectedUser:b,setSelectedUser:v}=(0,d.L)(),[N,j]=(0,n.useState)([]),P=(0,i.useRouter)(),{toast:w}=(0,u.pm)();(0,n.useEffect)(()=>{let fetchPatients=async()=>{try{let e=await (0,c.PL)((0,c.hJ)(m.db,"patients")),t=e.docs.map(e=>({id:e.id,nationalId:e.data().nationalId||"",firstName:e.data().firstName||"",lastName:e.data().lastName||"",dateOfBirth:e.data().dateOfBirth||"",gender:e.data().gender||"",bloodGroup:e.data().bloodGroup||"",phoneNumber:e.data().phoneNumber||"",name:`${e.data().firstName} ${e.data().lastName}`||"",phone:e.data().phoneNumber||"",sex:e.data().gender||"",dob:e.data().dateOfBirth||"",email:e.data().email||"",insuranceProvider:e.data().insuranceProvider||"",insurancePolicyNumber:e.data().insurancePolicyNumber||""}));j(t)}catch(e){console.error("Error fetching patients:",e),w({description:"Error fetching patients"})}};fetchPatients()},[w]);let handleSelect=e=>{t(`${e.firstName} ${e.lastName}`),v({...e,id:Number(e.nationalId),name:`${e.firstName} ${e.lastName}`,phone:e.phoneNumber,sex:e.gender,dob:e.dateOfBirth,email:e.email,insuranceProvider:e.insuranceProvider,insurancePolicyNumber:e.insurancePolicyNumber}),x([])};return r.jsx("div",{className:"h-screen w-full font-poppins flex justify-center p-2 overflow-scroll",children:(0,r.jsxs)("div",{className:"w-full md:w-1/2",children:[r.jsx("h1",{className:"text-3xl text-center",children:"Welcome to the Hospital"}),(0,r.jsxs)("p",{className:"text-center text-gray-400 mt-3",children:["Enter the ","patient's"," Service Id/Name"]}),(0,r.jsxs)("div",{className:"mt-10 flex justify-center items-center gap-10 flex-col",children:[r.jsx(l.I,{placeholder:"Enter Id Number",value:e,onChange:e=>{let s=e.target.value.trim().toLowerCase();if(t(s),!s){x([]);return}let r=N.filter(e=>`${e.firstName} ${e.lastName}`.toLowerCase().includes(s)||e.nationalId.includes(s));x(r)},className:"font-poppins text-3xl focus-visible:ring-0 focus-visible:ring-offset-0 p-2 capitalize"}),h.length>0&&r.jsx("div",{className:"w-full md:w-3/4 bg-white border rounded-md overflow-y-auto",children:h.map(e=>(0,r.jsxs)("div",{onClick:()=>handleSelect(e),className:"p-2 cursor-pointer flex flex-row gap-2 items-center justify-between",children:[r.jsx("p",{children:e.firstName}),r.jsx("p",{children:e.nationalId})]},e.id))}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-5 items-center",children:[r.jsx("h1",{children:"New Patient Registration"}),r.jsx("div",{className:"w-full flex items-center justify-center",children:r.jsx(a.z,{onClick:()=>P.push("patient-registration"),className:"bg-green-1 w-1/2",children:"Register"})})]}),r.jsx("h1",{className:"text-lg font-semibold hidden",children:"Select Payment Method"}),(0,r.jsxs)("div",{className:"flex-row gap-2 hidden",children:[r.jsx("button",{className:`p-3 border rounded-md w-full ${"Insurance"===f?"bg-green-1 text-white":"bg-gray-100"}`,onClick:()=>g("Insurance"),children:"Insurance"}),r.jsx("button",{className:`p-3 border rounded-md w-full ${"M-Pesa"===f?"bg-green-1  text-white":"bg-gray-100"}`,onClick:()=>g("M-Pesa"),children:"M-Pesa"}),r.jsx("button",{className:`p-3 border rounded-md w-full ${"Card"===f?"bg-green-1 text-white":"bg-gray-100"}`,onClick:()=>g("Card"),children:"Card Payment"})]}),r.jsx(a.z,{onClick:()=>{if(!b){alert("Please select a patient before continuing.");return}p(!0)},className:"w-1/2 bg-green-1",children:"Continue"})]}),r.jsx(o.Vq,{open:s,onOpenChange:p,children:(0,r.jsxs)(o.cZ,{className:"font-poppins",children:[(0,r.jsxs)("h1",{className:"font-poppins text-center mb-5 text-lg",children:["Welcome to Lanet Regional Hospital"," ",r.jsx("span",{className:"font-semibold capitalize",children:b?.name})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,r.jsxs)("div",{className:"gap-2 flex flex-col",children:[r.jsx("label",{children:"Email"}),r.jsx("div",{className:"border p-2 rounded-md",children:b?.email})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col",children:[r.jsx("label",{children:"National Id Number"}),r.jsx("div",{className:"border p-2 rounded-md",children:b?.id})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-3 w-full",children:[(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[r.jsx("label",{children:"Sex"}),r.jsx("div",{className:"border p-2 rounded-md",children:b?.sex})]}),(0,r.jsxs)("div",{className:"gap-2 flex flex-col w-1/2",children:[r.jsx("label",{children:"Date of Birth"}),r.jsx("div",{className:"border p-2 rounded-md",children:b?.dob})]})]})]}),r.jsx("div",{className:"w-full flex items-center justify-center",children:r.jsx(a.z,{onClick:()=>P.push(`/triage?user=${encodeURIComponent(JSON.stringify(b))}&payment=${encodeURIComponent(f)}`),className:"bg-green-1",children:"Continue to Triage"})})]})})]})})}},71462:(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var r=s(88944),a=s(48228);let i=(0,r.U)()((0,a.tJ)(e=>({selectedUser:null,setSelectedUser:t=>e({selectedUser:t})}),{name:"user-storage"}))},67369:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=s(95153);let a=(0,r.createProxy)(String.raw`/home/levi/Desktop/codingStuff/nextProjects/hospital-management-system/hms/app/(home-auth)/(root)/(home)/hospital-visit/page.tsx`),{__esModule:i,$$typeof:n}=a,o=a.default,l=o}};var t=require("../../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[1955,225,488,430,1094,7589,3137,7246,7945,92,516],()=>__webpack_exec__(54912));module.exports=s})();